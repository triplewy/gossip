syntax = "proto3";

package simpledb;

service SimpleDb {
    rpc GetHostInfoCaller(Empty) returns (HostStatsReplyMsg);
    rpc GetNodesCaller(RemoteNodeMsg) returns (RemoteNodesReplyMsg);
}

message Empty {}

message RemoteNodeMsg {
    string addr = 1;
    bytes id = 2;
}

message RemoteNodesReplyMsg { repeated RemoteNodeMsg remoteNodes = 1; }

message HostStatsReplyMsg {
    string totalMemory = 1;
    string usedMemory = 2;
    string totalSpace = 3;
    string usedSpace = 4;
    string numCores = 5;
    string cpuPercent = 6;
    string os = 7;
    string hostname = 8;
    string uptime = 9;
}

message RpcOkayMsg { bool Ok = 1; }
